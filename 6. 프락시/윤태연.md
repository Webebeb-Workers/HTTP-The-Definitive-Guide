# 프락시

HTTP 프락시 서버의 전반적인 특징과 웹에서의 활용에 대한 설명으로 시작. 중개자로서 클라이언트와 서버 사이에서 HTTP 메시지를 처리하는 프락시의 핵심 개념과 동작 방식을 설명할 예정

# 프락시: 웹 중개자

<img width="710" alt="image" src="https://github.com/user-attachments/assets/8c517070-2f0b-4170-9a93-74662b4b90f6" />

> [!NOTE]
> 클라이언트를 대신해 서버와 통신하는 중개 서버, HTTP 클라이언트이자 서버의 역할을 동시에 수행하는 양면적 특성을 가진 시스템.

프락시는 서버와 클라이언트의 특성을 모두 가져야 함이 핵심. 서버로서 클라이언트의 요청을 적절히 처리하고, 클라이언트로서 서버에 올바른 요청을 보내는 기능이 필수적임.

## 프락시의 분류 체계

기준에 따른 프락시 용도가 있음.

#### 사용 범위에 따른 구분

프락시 서버는 하나의 클라이언트가 독점적으로 사용할 수도 있고, 여러 클라이언트가 공유할 수도 있음.

- **개인 프락시** : **단일** 사용자 전용으로 주로 클라이언트 컴퓨터에서 실행되는 형태
- **공용 프락시** : **다수** 클라이언트가 공유하는 형태로, 중앙 집중식 관리와 캐시 효율적

#### 프로토콜 처리에 따른 구분

<img width="675" alt="image" src="https://github.com/user-attachments/assets/c763f0cf-a511-4127-889d-651ef2d3aea9" />

- **순수 프락시** : **동일한 프로토콜**을 사용하는 애플리케이션 간의 중개
- **게이트웨이** : **서로 다른 프로토콜** 간의 변환과 중개

상용 프락시는 SSL 보안 프로토콜, SOCKS 방화벽, FTP 접근, 웹 기반 애플리케이션 등 게이트웨이 기능도 지원한다.
즉, 프락시와 게이트웨이의 경계가 모호해지는 추세로, 실제 구현에서는 프락시도 프로토콜 변환 기능을 포함하고 게이트웨이 기능도 함께 제공하는 것이 일반적임.

## 프락시의 활용

프락시 서버의 다양한 실용적 용도와 그를 통한 웹 서비스 개선 방안에 대한 설명. 보안 강화, 성능 향상, 비용 절감 등 다양한 목적으로 활용되는 프락시의 구체적 응용 사례가 핵심.

### 어린이 필터링 시스템

<img width="677" alt="image" src="https://github.com/user-attachments/assets/a2084559-221a-42e5-93a2-8b896f1f6e38" />

교육 기관에서 사용되는 필터링 프락시로, 교육용 콘텐츠는 허용하고 부적절한 콘텐츠는 차단하는 접근 제어 시스템.

### 문서 접근 제어 메커니즘

다수의 웹 서버와 리소스에 대한 중앙화된 접근 제어를 구현하는 시스템으로, 조직 전체의 일관된 보안 정책 적용.
분산된 웹 서버들에 대한 통합 접근 제어와 감사 추적 기능 제공이 특징. 각 클라이언트별 차등화된 접근 권한 부여가 가능함.

<img width="676" alt="image" src="https://github.com/user-attachments/assets/5ea85688-5dff-4fa3-b8d2-7117ca5c30ba" />

- 클라이언트1 : 제약 없이 서버의 뉴스 페이지에 접근할 수 있도록 허가
- 클라이언트2 : 제약 없이 인터넷 콘텐츠에 접근할 수 있는 권한 O
- 클라이언트3 : 서버 B에 접근하기 전에 먼저 비밀번호 요구

### 보안 방화벽

네트워크 보안 강화를 위한 응용 계층 프로토콜 통제. 조직 내외부의 트래픽을 단일 지점에서 감시하고 바이러스 제거 등 보안 기능 수행이 특징임.

<img width="675" alt="image" src="https://github.com/user-attachments/assets/a626ab0b-fb67-46e8-a5ef-a4a06e77ac49" />

또한 바이러스 제거 필요 웹이나 이메일 등에 사용할 수 있는, 트래픽을 세심히 살펴볼 수 있는 후크(hook)를 제공함.

### 웹 캐시

<img width="674" alt="image" src="https://github.com/user-attachments/assets/1d13c89e-8d56-4d36-8413-35c472fe96b5" />

자주 요청되는 문서의 로컬 사본을 관리해주는 '프락시 캐시'를 사용해 성능 향상과 네트워크 비용 절감. 인기 있는 콘텐츠에 대한 빠른 응답 제공이 특징임.

### 대리 프락시(Surrogate)

웹 서버를 위장/대신해 요청을 받을 수 있는 리버스 프락시로, 요청 받은 콘텐츠의 위치를 찾아줘 서버 성능 개선과 콘텐츠 분산.

<img width="669" alt="image" src="https://github.com/user-attachments/assets/4aadf38a-7ae4-4077-853a-be81c9d197fa" />

서버 가속기로도 활용되며, 콘텐츠 라우팅과 결합해 분산 네트워크 구성이 가능함.

### 콘텐츠 라우터

프락시는 인터넷 트래픽 조건과 콘텐츠의 종류에 따라 요청을 특정 웹 서버로 유도하는 콘텐츠 라우터로 동작함. 그 특징을 사용한 것이 콘텐츠 라우터.
트래픽 상황과 콘텐츠 특성에 따른 요청 라우팅.

<img width="680" alt="image" src="https://github.com/user-attachments/assets/655571a8-e07e-40eb-9057-ee587a2be84a" />

사용자나 콘텐츠 제공자의 요구사항에 따른 맞춤형 서비스 제공이 특징임.

### 트랜스코더 활용

콘텐츠의 형식을 클라이언트에 맞게 변환하는 시스템으로, 다양한 기기와 클라이언트, 네트워크 환경에 대해 사용자 경험 최적화 가능.

<img width="683" alt="image" src="https://github.com/user-attachments/assets/a7358144-793b-4899-80c5-24e0feeb233b" />

트랜스코딩 프락시는 콘텐츠의 포맷과 표현 방식을 클라이언트에 최적화된 형태로 변환하는 중개 시스템이 핵심.

- **이미지 최적화**
  - GIF를 JPG로 포맷 변환
  - 이미지 크기 축소
  - TV 디스플레이용 색상 강도 조절
- **텍스트 최적화**
  - 파일 압축
  - 모바일 기기용 페이지 축약
  - 실시간 다국어 번역

이미지 포맷 변환, 압축, 다국어 변환 등 다양한 콘텐츠 변환 기능 제공이 특징임.

### 익명화 프락시 구현

개인정보 보호를 위해 HTTP 메시지에서 식별 가능한 정보를 제거하는 시스템.

<img width="675" alt="image" src="https://github.com/user-attachments/assets/7a07eec7-1db0-4e60-95ae-ceb2832be474" />

User-Agent, From, Referer, Cookie 등 개인 식별 정보 제거를 통한 익명성 보장 가능함.
